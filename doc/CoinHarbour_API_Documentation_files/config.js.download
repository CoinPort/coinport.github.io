function fetchConfigs(){const n=new XMLHttpRequest,o="localhost"===window.location.hostname?"http://localhost:9002":window.location.origin;n.open("GET",`${o}/api/v2/sonic/public/config`,!1),n.send(null);const i=new Set([472,503,513]),t=new URLSearchParams(window.location.search).get("token");if("/magic-link"===window.location.pathname)if(t){const n=new XMLHttpRequest;n.open("POST",`${o}/api/v2/barong/identity/users/access`,!1),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(JSON.stringify({whitelink_token:t}))}else window.location.replace(window.location.origin);else 200===n.status?(window.env=JSON.parse(n.responseText),["/restriction","/maintenance"].includes(window.location.pathname)&&window.location.replace(`${window.location.origin}/`)):471===n.status&&"/restriction"!==window.location.pathname?window.location.replace(`${window.location.origin}/restriction`):i.has(n.status)&&"/maintenance"!==window.location.pathname&&window.location.replace(`${window.location.origin}/maintenance`)}fetchConfigs();